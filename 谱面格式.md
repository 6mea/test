# Rayark v2 改

目前 Cytoid 仅支持这个格式的谱面。Rayark v2，顾名思义就是 Cytus 官方的谱面格式，若是做过谱子，你应该对它十分熟悉了。不过还是来点非官方的文档吧。以下是一个谱面示例：

```
VERSION 2
BPM 402.000000
PAGE_SHIFT 0.800000
PAGE_SIZE 0.597015
NOTE	0	1.588880	0.800000	0.000000
NOTE	1	2.782910	0.600000	0.000000
NOTE	2	3.976940	0.400000	0.000000
NOTE	3	5.170969	0.600000	0.298508
NOTE	4	5.767984	0.400000	0.298508
......
LINK 26 27 28 29 
LINK 30 31 32 33 
LINK 34 35 
LINK 36 37 38 
LINK 39 40
......
```

## `VERSION`

格式：`VERSION {0}`

谱面格式的版本，Cytus 内部识别用。Cytoid 不会读取此参数。

## `BPM`

格式：`BPM {0}`

音乐的 BPM，或者*每分钟节拍*（好蠢），Cytus 视觉效果用。目前，此参数在 Cytoid 中没有效果。

## `PAGE_SHIFT`

格式：`PAGE_SHIFT {0}`

一个 page 就是谱面的一页。当扫描线调转方向的时候，谱面就迎来新的一页。此参数定义了第一页的显示偏移，单位为秒。真是很难解释的参数，多调调看就知道了。（逃）

## `PAGE_SIZE`

格式：`PAGE_SIZE {0}`

此参数定义了一页的时长，单位为秒。数值越小，扫描线就会跑得越快。

## `NOTE`

格式：`NOTE {id} {timing} {x} {duration}`

此参数定义了一个 note。Cytus 只接受按时间顺序排列的 `id`，Cytoid 则无所谓。`timing` 是 note 应该被按下的时间，`x` 是介于 `0` 到 `1` 的数值，`0` 的话 note 出现在最左边，`1` 的话 note 出现在最右边。`duration` 是 note 时长，单位为秒。只要数值大于 0，note 就会变成长按 note。

## `LINK`

格式：`LINK {id 1} {id 2} {id 3} {id 4} ..."

此参数定义了一个 note 锁链。比如你想将 `id` 为 `535` 和 `537` 的两个 note 变成锁链，写 `LINK 535 537` 即可。就是这么简单。

## `OFFSET`（Cytoid 参数）

格式：`OFFSET {0}`

这个谱面格式之所以称为 Rayark v2 *改*，就是因为有这样的 Cytoid 自定义参数。此参数可以一次性调节所有 note 的时间。举例，想让所有 note 都延迟 0.5 秒出现，写 `OFFSET 0.5`；想让所有 note 提早 0.5 秒出现，则写 `OFFSET -0.5`。如果你的制谱工具本身和音轨不同步，这个参数就很有用了。